---
import getPageTitle from "@/utils/get-page-title";
import log from "@/utils/log";
import "@/global.less";

// ============================================================================

// const matches = import.meta.glob("@/pages/**/*.astro");
// log(new URL(Astro.request.url).pathname);

// ============================================================================

type Props = {
    showFrame?: boolean;
    title?: string | string[];
};
const { showFrame = true, title } = Astro.props;
---

<!doctype html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <meta name="color-scheme" content="only dark" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="generator" content={Astro.generator} />
        <title>{getPageTitle(title)}</title>
    </head>
    <body>
        {
            showFrame ? (
                <div class="root">
                    <aside />
                    <maim>
                        <slot />
                    </maim>
                </div>
            ) : (
                <slot />
            )
        }
    </body>
</html>

<style lang="less">
    @import "./Layout.module.less";
</style>
